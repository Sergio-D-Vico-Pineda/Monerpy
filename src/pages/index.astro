---
import Layout from "@layouts/Layout.astro";

import { isAuthenticated } from "../middleware/auth.ts";
---

<Layout title="Welcome" description="Your personal finance management tool">
	<div class="min-h-screen bg-gray-900 p-8 mx-auto">
		<h1 class="text-3xl text-gray-100 font-bold text-center mb-6">
			Welcome to Monerpy
		</h1>
		<p class="text-center text-gray-400 mb-4">
			Your personal finance management tool.
		</p>
		<div class="flex justify-center gap-6">
			<a
				href="/dashboard"
				class="bg-purple-600 text-white px-6 py-3 rounded hover:bg-purple-700 transition duration-200 font-bold"
			>
				Dashboard
			</a>
			{
				!isAuthenticated(Astro.request) ? (
					<a
						href="/login"
						class="bg-purple-600 text-white px-6 py-3 rounded hover:bg-purple-700 transition duration-200 font-bold"
					>
						Login
					</a>
				) : (
					<form
						action="/api/auth/logout"
						method="POST"
						class="inline"
					>
						<button
							type="submit"
							class="bg-red-600 text-white px-6 py-3 rounded hover:bg-red-700 transition duration-200 font-bold"
						>
							Logout
						</button>
					</form>
				)
			}
		</div>
	</div>
</Layout>
